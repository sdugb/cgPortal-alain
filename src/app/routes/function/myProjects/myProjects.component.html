<div class="content__title">
    <h1>
        我的项目和子项目列表列表
    </h1>
</div>
<div nz-row [nzGutter]="16">
    <div nz-col [nzMd]="12">
        <nz-card nzTitle="我的项目（总数：{{projectTotal}})">
            <ng-template #extra>
                <a (click)="onClickRefreshProject()">刷新</a>
                <span nz-table-divider></span>
                <a (click)="onClickCreateProject()">创建项目</a>
            </ng-template>
            <nz-table #nzTable [nzDataSource]="projectList" [nzPageSize]="10">
                <thead nz-thead>
                <tr>
                    <th nz-th><span>名称</span></th>
                    <th nz-th><span>描述</span></th>
                    <th nz-th><span>动作</span></th>
                </tr>
                </thead>
                <tbody nz-tbody>
                <tr nz-tbody-tr *ngFor="let data of projectList">
                    <td nz-td>
                        <a>{{data.name}}</a>
                    </td>
                    <td nz-td>{{data.description}}</td>
                    <td nz-td>
                        <span>
                            <nz-popconfirm [nzTitle]="'确定要删除这个子项目吗？'" (nzOnConfirm)="confirmProject(data)" (nzOnCancel)="cancel()">
                                <a nz-popconfirm>删除</a>
                            </nz-popconfirm>
                            <span nz-table-divider></span>
                            <a (click)="onSelectProject(data)">选择</a>
                            <span nz-table-divider></span>
                            <a (click)="onClickCreateSubProject()">项目分包</a>
                        </span>
                    </td>
                </tr>
                </tbody>
            </nz-table>
        </nz-card>
    </div>
    <div nz-col [nzMd]="12">
        <nz-card #nzTable nzTitle="{{subProjectTitle}}（总数：{{subProjectTotal}})">
            <ng-template #extra>
                <a (click)="onClickRefreshSubProject()">刷新</a>
            </ng-template>
            <nz-table [nzDataSource]="subProjectList" [nzPageSize]="10">
                <thead nz-thead>
                <tr>
                    <th nz-th><span>名称</span></th>
                    <th nz-th><span>描述</span></th>
                    <th nz-th><span>团队</span></th>
                    <th nz-th><span>动作</span></th>
                </tr>
                </thead>
                <tbody nz-tbody>
                <tr nz-tbody-tr *ngFor="let data of subProjectList">
                    <td nz-td>{{data.name}}</td>
                    <td nz-td>{{data.description}}</td>
                    <td nz-td>{{data.team}}</td>
                    <td nz-td>
                        <span>
                            <nz-popconfirm [nzTitle]="'确定要删除这个子项目吗？'" (nzOnConfirm)="confirmSubProject(data)" (nzOnCancel)="cancelSubProject()">
                                <a nz-popconfirm>删除</a>
                            </nz-popconfirm>
                        </span>
                    </td>
                </tr>
                </tbody>
            </nz-table>
        </nz-card>
    </div>
</div>
